(()=>{var t={335:(t,n,e)=>{var o={"./nano-bot.svg":2,"./rabbit.svg":953,"./raccoon-head.svg":640,"./radio-tower.svg":381,"./raft.svg":724,"./railway.svg":377,"./rat.svg":396,"./ringmaster.svg":46,"./shambling-zombie.svg":289,"./yom-flag.svg":302};function r(t){var n=a(t);return e(n)}function a(t){if(!e.o(o,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=335},2:(t,n,e)=>{"use strict";t.exports=e.p+"b5a59920b3ca7ff38767.svg"},953:(t,n,e)=>{"use strict";t.exports=e.p+"5feeed17d2769b6279af.svg"},640:(t,n,e)=>{"use strict";t.exports=e.p+"3adb1760cbd1cb9b5ec9.svg"},381:(t,n,e)=>{"use strict";t.exports=e.p+"101f61b4eac37d561291.svg"},724:(t,n,e)=>{"use strict";t.exports=e.p+"e0aacd7afa69bf066508.svg"},377:(t,n,e)=>{"use strict";t.exports=e.p+"5effd08157957bbbec62.svg"},396:(t,n,e)=>{"use strict";t.exports=e.p+"f86a329bad5efa0c41c4.svg"},46:(t,n,e)=>{"use strict";t.exports=e.p+"19c5791e7ae490610b3f.svg"},289:(t,n,e)=>{"use strict";t.exports=e.p+"df60dc75d2d95004d844.svg"},302:(t,n,e)=>{"use strict";t.exports=e.p+"fcddd2dace838c5894d1.svg"}},n={};function e(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={exports:{}};return t[o](a,a.exports,e),a.exports}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),(()=>{"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var o={},r=function(){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.random();t(this,r),this.name=n,o[n]?this.img=o[n].cloneNode():(this.img=new Image,this.img.src=e(335)("./".concat(n,".svg")),o[n]=this.img)}var a,i;return a=r,i=[{key:"preload",value:function(){r.symbols.forEach((function(t){return new r(t)}))}},{key:"symbols",get:function(){return["nano-bot","rabbit","raccoon-head","radio-tower","raft","railway","rat","ringmaster","shambling-zombie","yom-flag"]}},{key:"random",value:function(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}}],null&&n(a.prototype,null),i&&n(a,i),Object.defineProperty(a,"prototype",{writable:!1}),r}();function a(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(n,e,o){var a=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.reelContainer=n,this.idx=e,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{transform:"none",filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{transform:"translateY(-".concat(10*Math.floor(this.factor)/(3+10*Math.floor(this.factor))*100,"%)"),filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),o.forEach((function(t){return a.symbolContainer.appendChild(new r(t).img)}))}var n,e;return n=t,(e=[{key:"factor",get:function(){return 1+Math.pow(this.idx/2,2)}},{key:"renderSymbols",value:function(t){for(var n=document.createDocumentFragment(),e=3;e<3+10*Math.floor(this.factor);e++){var o=new r(e>=10*Math.floor(this.factor)-2?t[e-10*Math.floor(this.factor)]:void 0);n.appendChild(o.img)}this.symbolContainer.appendChild(n)}},{key:"spin",value:function(){var t=this,n=new Promise((function(n){return t.animation.onfinish=n})),e=new Promise((function(n){return setTimeout(n,1e3*t.factor)}));return this.animation.play(),Promise.race([n,e]).then((function(){"finished"!==t.animation.playState&&t.animation.finish();for(var n=t.symbolContainer.children.length-3,e=0;e<n;e++)t.symbolContainer.firstChild.remove()}))}}])&&a(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(n){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),r.preload(),this.currentSymbols=[["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"]],this.nextSymbols=[["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"],["yom-flag","yom-flag","yom-flag"]],this.container=n,this.reels=Array.from(this.container.getElementsByClassName("reel")).map((function(t,n){return new i(t,n,e.currentSymbols[n])})),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",(function(){return e.spin()})),this.autoPlayCheckbox=document.getElementById("autoplay"),o.inverted&&this.container.classList.add("inverted"),this.config=o}var n,e;return n=t,(e=[{key:"spin",value:function(){var t=this;return this.currentSymbols=this.nextSymbols,this.nextSymbols=[[r.random(),r.random(),r.random()],[r.random(),r.random(),r.random()],[r.random(),r.random(),r.random()],[r.random(),r.random(),r.random()],[r.random(),r.random(),r.random()]],this.onSpinStart(this.nextSymbols),Promise.all(this.reels.map((function(n){return n.renderSymbols(t.nextSymbols[n.idx]),n.spin()}))).then((function(){return t.onSpinEnd(t.nextSymbols)}))}},{key:"onSpinStart",value:function(t){var n,e;this.spinButton.disabled=!0,null===(n=(e=this.config).onSpinStart)||void 0===n||n.call(e,t)}},{key:"onSpinEnd",value:function(t){var n,e,o=this;if(this.spinButton.disabled=!1,null===(n=(e=this.config).onSpinEnd)||void 0===n||n.call(e,t),this.autoPlayCheckbox.checked)return window.setTimeout((function(){return o.spin()}),200)}}])&&l(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),f={inverted:!1,onSpinStart:function(t){console.log("onSpinStart",t)},onSpinEnd:function(t){console.log("onSpinEnd",t)}};new c(document.getElementById("slot"),f)})()})();