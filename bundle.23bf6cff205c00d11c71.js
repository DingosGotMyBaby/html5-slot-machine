(()=>{var t={335:(t,n,r)=>{var e={"./nano-bot.svg":2,"./rabbit.svg":953,"./raccoon-head.svg":640,"./radio-tower.svg":381,"./raft.svg":724,"./railway.svg":377,"./rat.svg":396,"./ringmaster.svg":46,"./shambling-zombie.svg":289};function i(t){var n=o(t);return r(n)}function o(t){if(!r.o(e,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e[t]}i.keys=function(){return Object.keys(e)},i.resolve=o,t.exports=i,i.id=335},2:(t,n,r)=>{"use strict";t.exports=r.p+"b5a59920b3ca7ff38767.svg"},953:(t,n,r)=>{"use strict";t.exports=r.p+"5feeed17d2769b6279af.svg"},640:(t,n,r)=>{"use strict";t.exports=r.p+"3adb1760cbd1cb9b5ec9.svg"},381:(t,n,r)=>{"use strict";t.exports=r.p+"101f61b4eac37d561291.svg"},724:(t,n,r)=>{"use strict";t.exports=r.p+"e0aacd7afa69bf066508.svg"},377:(t,n,r)=>{"use strict";t.exports=r.p+"5effd08157957bbbec62.svg"},396:(t,n,r)=>{"use strict";t.exports=r.p+"f86a329bad5efa0c41c4.svg"},46:(t,n,r)=>{"use strict";t.exports=r.p+"19c5791e7ae490610b3f.svg"},289:(t,n,r)=>{"use strict";t.exports=r.p+"df60dc75d2d95004d844.svg"}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var n=r.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var e=n.getElementsByTagName("script");e.length&&(t=e[e.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var e={},i=function(){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.random();t(this,i),this.name=n,e[n]?this.img=e[n].cloneNode():(this.img=new Image,this.img.src=r(335)("./".concat(n,".svg")),e[n]=this.img)}var o,a;return o=i,a=[{key:"preload",value:function(){i.symbols.forEach((function(t){return new i(t)}))}},{key:"symbols",get:function(){return["nano-bot","rabbit","raccoon-head","radio-tower","raft","railway","rat","ringmaster","shambling-zombie"]}},{key:"random",value:function(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}}],null&&n(o.prototype,null),a&&n(o,a),Object.defineProperty(o,"prototype",{writable:!1}),i}();function o(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var a=function(){function t(n,r,e){var o=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.reelContainer=n,this.idx=r,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{transform:"none",filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{transform:"translateY(-".concat(10*Math.floor(this.factor)/(3+10*Math.floor(this.factor))*100,"%)"),filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),e.forEach((function(t){return o.symbolContainer.appendChild(new i(t).img)}))}var n,r;return n=t,(r=[{key:"factor",get:function(){return 1+Math.pow(this.idx/2,2)}},{key:"renderSymbols",value:function(t){for(var n=document.createDocumentFragment(),r=3;r<3+10*Math.floor(this.factor);r++){var e=new i(r>=10*Math.floor(this.factor)-2?t[r-10*Math.floor(this.factor)]:void 0);n.appendChild(e.img)}this.symbolContainer.appendChild(n)}},{key:"spin",value:function(){var t=this,n=new Promise((function(n){return t.animation.onfinish=n})),r=new Promise((function(n){return setTimeout(n,1e3*t.factor)}));return this.animation.play(),Promise.race([n,r]).then((function(){"finished"!==t.animation.playState&&t.animation.finish();for(var n=t.symbolContainer.children.length-3,r=0;r<n;r++)t.symbolContainer.firstChild.remove()}))}}])&&o(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function c(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var l=function(){function t(n){var r=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),i.preload(),this.currentSymbols=[["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"]],this.nextSymbols=[["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"],["rabbit","rabbit","rabbit"]],this.container=n,this.reels=Array.from(this.container.getElementsByClassName("reel")).map((function(t,n){return new a(t,n,r.currentSymbols[n])})),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",(function(){return r.spin()})),this.autoPlayCheckbox=document.getElementById("autoplay"),e.inverted&&this.container.classList.add("inverted"),this.config=e}var n,r;return n=t,(r=[{key:"spin",value:function(){var t=this;return this.currentSymbols=this.nextSymbols,this.nextSymbols=[[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()],[i.random(),i.random(),i.random()]],this.onSpinStart(this.nextSymbols),Promise.all(this.reels.map((function(n){return n.renderSymbols(t.nextSymbols[n.idx]),n.spin()}))).then((function(){return t.onSpinEnd(t.nextSymbols)}))}},{key:"onSpinStart",value:function(t){var n,r;this.spinButton.disabled=!0,null===(n=(r=this.config).onSpinStart)||void 0===n||n.call(r,t)}},{key:"onSpinEnd",value:function(t){var n,r,e=this;if(this.spinButton.disabled=!1,null===(n=(r=this.config).onSpinEnd)||void 0===n||n.call(r,t),this.autoPlayCheckbox.checked)return window.setTimeout((function(){return e.spin()}),200)}}])&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),b={inverted:!1,onSpinStart:function(t){console.log("onSpinStart",t)},onSpinEnd:function(t){console.log("onSpinEnd",t)}};new l(document.getElementById("slot"),b)})()})();